<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>
<template id="reporte_impreso" name="report_impreso.reporte_impreso">
<t t-call="web.html_container">
        <t t-foreach="docs" t-as="doc">
                


            <t t-call="web.external_layout">


             
                <style>
               


   
                

                body {
                    font-size: 10px !important;
                }
                .page {
                    width: 56mm;
                    height: 200mm;
                    font-size: 10px;
                }
                p, div, table {
                    font-size: 12px !important;
                }
            </style>
                

              
                <div class="page" style="width: 56mm; height: 200mm; font-size: 10px;">
                    Fecha: <span t-esc="time.strftime('%d/%m/%Y %H:%M:%S')"/>
                    <p style="margin-bottom: 1px;">N°: <t t-esc="doc.name"/></p>
                   


                    <div style="display: flex; flex-direction: column; align-items: center; text-align: center;">
                        <p style="margin: 2px;">DOCUMENTO NO VALIDO COMO FACTURA</p>
                        <p style="margin: 2px;"><strong><u><t t-esc="doc.company_id.name"/></u></strong></p>
                        <p style="margin: 2px;"><t t-esc="doc.company_id.street"/></p> 
                        <p style="margin: 2px;"><strong><u>CONTACTO</u></strong></p>
                        <p style="margin: 2px;">WhatsApp:<t t-esc="doc.company_id.phone"/></p> 
                        <p style="margin: 2px;">Instagram:magnolias.deco</p> 
                        <p style="margin: 2px;">WEB:<t t-esc="doc.company_id.website"/></p> 
                        <p style="margin: 2px;"><strong>TICKET DE CAMBIO</strong></p>

                    </div>
                    <div style="display: flex; flex-direction: column; align-items: rigth; text-align: center;">
                        <p style="margin: 2px;">Atendido por:<t t-esc="doc.user_id.name"/> </p>
                        <p style="margin: 2px;">Cliente:<t t-esc="doc.partner_id.name"/> </p>
                        
                        
                    </div>
                    <!--tabla de descripciones-->
                    <table class="table table-sm" style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="border-bottom: 1px dashed;margin: 1px;">
                                    <th style="text-align: right;margin: 1px;">Cant.</th>
                                    <th style="text-align: left;margin: 1px;">Descripción</th>
                                    
                                    <th style="text-align: right;margin: 1px;">Precio</th>
                                </tr>
                            </thead>
                            
                            <tbody style="margin-bottom: 2mm;">
                              
                                <t t-foreach="doc.invoice_line_ids" t-as="line">
                                    
                                    <tr>
                                        <td style="padding-top: 8px;text-align: right;margin: 1px;"><t t-esc="line.quantity"/></td>
                                        <td style="padding-top: 8px;margin: 1px;"><t t-esc="line.name"/></td>
                                        
                                        <td style="padding-top: 8px;text-align: right;margin: 1px;">$<t t-esc="line.price_total"/></td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                        <!--subtotales--> 
                         <div style="text-align: rigth; margin-bottom: 2mm;">
                             <p style="margin-bottom: 2px;"><strong>Subtotal:</strong> $<t t-esc="doc.amount_untaxed"/></p>
                            
                         </div>                     
                         <div style="text-align: center; margin-bottom: 2mm;">
                            
                            <p style="margin-bottom: 2px;"><strong>Total:</strong>$<t t-esc="doc.amount_total"/></p>
                         </div>
  

                    </div>


                    
                    <!-- Productos -->
                    <div>
                        
                    </div>

                    <!-- Totales -->
                   

                    
                       

                      <!-- <t t-if="doc.l10n_latam_document_type_id.l10n_ar_letter == 'B'">
                        <div style="text-align: left;margin-bottom: 1mm;">
                            <p style="margin-bottom: 1px;">"Regimen de transparencia fiscal al consumidor (ley 27.743)"</p>
                            <p style="margin-bottom: 1px;">IVA Contenido $<t t-esc="doc.amount_tax"/></p>
                            <p style="margin-bottom: 1px;">Otros Impuestos indirectos </p>
                        </div>
                    </t>
                    <t t-if="doc.l10n_latam_document_type_id.l10n_ar_letter == 'A'">
                        <div style="text-align: left;margin-bottom: 1mm;">
                            <p style="margin-bottom: 1px;">Impuesto 21% $<t t-esc="doc.amount_tax"/></p><br/>
                        </div>
                    </t> -->
                    
                    <!-- Código QR y CAE -->
                    <div style="text-align: center;margin-bottom: 2mm;">
                     <div id="qrcode">
                       <img t-if="doc.l10n_ar_afip_qr_code" t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s' % ('QR', doc.l10n_ar_afip_qr_code, 200, 200)" alt="QR Code" style="height:100px"/>
                        </div>
                        <t t-if="doc.l10n_ar_afip_auth_code">
                            <p style="margin: 2px;">
                            CAE: <span t-field="doc.l10n_ar_afip_auth_code"/>
                                 <!--<span t-field="doc.afip_auth_code"/>-->
                            </p>
                            <p style="margin: 2px;">
                            Fecha Vencimiento CAE: <t t-esc="doc.l10n_ar_afip_auth_code_due"/>
                                                   <!-- <t t-esc="doc.afip_auth_code_due"/> -->
                            </p>
                        </t>
                         <!--<p>Contenido limpio QR: <t t-esc="doc.l10n_ar_afip_qr_code.split('?p=')[1]"/></p>-->
                        <!-- <img t-if="doc.l10n_ar_afip_qr_code" t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s' % ('QR', doc.l10n_ar_afip_qr_code, 200, 200)" alt="QR Code" style="height:100px"/>
                       
                        -->
                     
                      


                     
                       
                       
                       <!-- <div id="qrcode" t-if="doc.display_qr_code">
                        <img t-if="doc.l10n_ar_afip_qr_code" t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s' % ('QR', doc.l10n_ar_afip_qr_code, 400, 400)" alt="QR Code" style="height:100px"/>
                        </div>  -->
                        <!-- <p style="margin: 2px;">CAE: <span t-field="doc.l10n_ar_afip_auth_code"/></p>
                         <p style="margin: 2px;">Fecha Vencimiento CAE:<t t-esc="doc.l10n_ar_afip_auth_code_due"/></p>
                       
                    
                     </div> -->

                  
                     
                               
                      

                </div>
            </t>
        </t>
    </t>
</template>



<template id="report_payment_group">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="reporte_impresora.reporte_impreso" t-lang="o.partner_id.lang"/>
        </t>
    </t>
</template>

   
    <record id="action_funeraria_invoice_report" model="ir.actions.report">
    <field name="name">Reporte Impresora</field>
    <field name="model">account.move</field>
    <field name="report_type">qweb-pdf</field>
    <field name="report_name">report_impreso.reporte_impreso</field>
    <field name="report_file">report_impreso.reporte_impreso</field>
    <field name="binding_model_id" ref="account.model_account_move"/>
    <field name="binding_type">report</field>
</record>
    
</data>
</odoo>